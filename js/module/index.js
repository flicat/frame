define(function(require,exports){var a=(require("log"),require("event"),require("popup"),[seajs.data.cwd+"bg-share.png",seajs.data.cwd+"icon-fail.png",seajs.data.cwd+"icon-success.png",seajs.data.cwd+"loading.gif"],document.getElementById("wrap")),b=document.getElementById("success-image"),c=1,d=0,e=1,f=0,g=function(g){if(g.preventDefault(),g.stopPropagation(),"touchstart"===g.type)d=f,c=e;else if("swipe"===g.type){var h=g.data,i=h.endX.length;if(i>1){var j=h.endApart-h.startApart;j>0?e=c+j/100:0>j&&(e=c-Math.abs(j)/100),.2>e&&(e=.2),f=(d+h.startAngle-h.endAngle)%360,a.innerHTML=d+"|"+c+"<br>"+f+"|"+e,b.style.transform=b.style.webkitTransform="scale("+e+") rotate("+f+"deg)"}}};b.addEventListener("touchstart",g),b.addEventListener("swipe",g);var h=function(b){b.preventDefault(),b.stopPropagation(),a.innerHTML=b.type};a.addEventListener("tap",h,!1).addEventListener("longTap",h,!1).addEventListener("swipe",h,!1).addEventListener("swipeLeft",h,!1).addEventListener("swipeRight",h,!1).addEventListener("swipeUp",h,!1).addEventListener("swipeDown",h,!1)});