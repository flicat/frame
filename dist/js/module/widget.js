define("widget",["exbind","event","public","ajax","popup"],function(require,exports){var a=require("exbind");require("event"),require("public"),require("ajax"),require("popup");a.register("calendar","load",function(a){var b=a.param,c=this;require.async("calendar",function(a){var d={target:c,event:"click",format:"Y-M-D"};"1"==b.range?d.max=new Date:"2"==b.range&&(d.min=new Date),new a(d)})}),a.register("toggle","load",function(a){var b=this,c=a.param.class,d=a.param.event||"click",e=[].slice.call(b.classList).indexOf(c)>-1;b.addEventListener(d,function(){e?b.classList.remove(c):b.classList.add(c),e=!e})}),a.register("select","load",function(a){var b,c=this,d=a.param.class,e=a.param.type||1;d&&(b=[].slice.call(document.querySelectorAll('input[type="checkbox"].'+d)),c.__select_down__=function(a){b.forEach(function(b){b.checked=a,b.__select_down__&&b.__select_down__(a)})},c.off("click.select").on("click.select",function(){var a=this.checked;c.__select_down__&&c.__select_down__(a),c.__select_up__&&c.__select_up__(a)}),b.forEach(function(a){a.__select_up__=function(a){var d=a;"1"==e?b.forEach(function(a){a.checked||(d=!1)}):"2"==e&&b.forEach(function(a){a.checked&&(d=!0)}),c.checked=d,c.__select_up__&&c.__select_up__(d)},a.off("click.select").on("click.select",function(){var b=this.checked;a.__select_down__&&a.__select_down__(b),a.__select_up__&&a.__select_up__(b)}),a.__select_up__(a.checked)}))}),a.register("tab","load",function(){var a=this,b=[].slice.call(a.querySelectorAll(".js-tab-title")),c=[].slice.call(a.querySelectorAll(".js-tab-content")),d=b[0],e=c[0];b.forEach(function(a,b){a.addEventListener("click",function(){d.classList.remove("active"),d=a,d.classList.add("active"),e.classList.add("hide"),e=c[b],e.classList.remove("hide")}),a.classList.remove("active"),c[b].classList.add("hide")}),d.classList.add("active"),e.classList.remove("hide")}),a.register("swipe","load",function(a){var b=this,c=!!Number(a.param.auto||1),d=this.children[0],e=[].slice.call(d.children),f=b.clientWidth;if(0==f&&(f=window.innerWidth),e.length>1){var g=document.createElement("div"),h="",i=null;g.className="scroll-icon",d.style.width=f*e.length+"px",e.forEach(function(a,b){h+="<span"+(0==b?' class="active"':"")+"></span>",a.style.width=f+"px"}),g.innerHTML=h,b.appendChild(g);var j=[].slice.call(g.children),k=j[0],l=0,m=function(){clearInterval(i),c&&(i=setInterval(function(){l++,l>=e.length&&(l=0),n()},3e3))},n=function(){d.style.transition=d.style.webkitTransition="all .3s ease",setTimeout(function(){k&&k.classList.remove("active"),j[l].classList.add("active"),k=j[l],d.style.transform=d.style.webkitTransform="translateX("+-f*l+"px)"},10)};b.addEventListener("touchstart",function(){d.style.transition=d.style.webkitTransition="none",clearInterval(i)}),b.addEventListener("swipe",function(a){var b=a.data.diffX.keys(0),c=a.data.diffY.keys(0);Math.abs(b)>Math.abs(c)&&(a.stopPropagation(),a.preventDefault(),d.style.transform=d.style.webkitTransform="translateX("+(-f*l+b)+"px)")}),b.addEventListener("swipeEnd",function(a){var b=a.data.diffX.keys(0),c=a.data.diffY.keys(0);Math.abs(b)>Math.abs(c)&&(b>0?(l--,l<0&&(l=0)):(l++,l>=e.length&&(l=e.length-1))),m(),n()}),m()}})});