define("mvvm",[],function(require,exports){function a(a){return a.replace(C,"").replace(D,",").replace(E,"").replace(F,"").replace(G,"").split(H)}function b(a){return"'"+a.replace(/('|\\)/g,"\\$1").replace(/\r/g,"\\r").replace(/\n/g,"\\n")+"'"}function c(c,d){function e(a){return m+=a.split(/\n/).length-1,k&&(a=a.replace(/\s+/g," ").replace(/<!--[\w\W]*?-->/g,"")),a&&(a=p[1]+b(a)+p[2]+"\n"),a}function f(b){var c=m;if(j?b=j(b,d):g&&(b=b.replace(/\n/g,function(){return m++,"$line="+m+";"})),0===b.indexOf("=")){var e=l&&!/^=[=#]/.test(b);if(b=b.replace(/^=[=#]?|[\s;]*$/g,""),e){var f=b.replace(/\s*\([^\)]+\)/,"");w[f]||/^(include|print)$/.test(f)||(b="$escape("+b+")")}else b="$string("+b+")";b=p[1]+b+p[2]}return g&&(b="$line="+c+";"+b),A(a(b),function(a){if(a&&!n[a]){var b;b="print"===a?r:"include"===a?s:w[a]?"$utils."+a:x[a]?"$helpers."+a:"$data."+a,t+=a+"="+b+",",n[a]=!0}}),b+"\n"}var g=d.debug,h=d.openTag,i=d.closeTag,j=d.parser,k=d.compress,l=d.escape,m=1,n={$data:1,$filename:1,$utils:1,$helpers:1,$out:1,$line:1},o="".trim,p=o?["$out='';","$out+=",";","$out"]:["$out=[];","$out.push(",");","$out.join('')"],q=o?"$out+=text;return $out;":"$out.push(text);",r="function(){var text=''.concat.apply('',arguments);"+q+"}",s="function(filename,data){data=data||$data;var text=$utils.$include(filename,data,$filename);"+q+"}",t="'use strict';var $utils=this,$helpers=$utils.$helpers,"+(g?"$line=0,":""),u=p[0],v="return new String("+p[3]+");";A(c.split(h),function(a){a=a.split(i);var b=a[0],c=a[1];1===a.length?u+=e(b):(u+=f(b),c&&(u+=e(c)))});var y=t+u+v;g&&(y="try{"+y+"}catch(e){throw {filename:$filename,name:'Render Error',message:e.message,line:$line,source:"+b(c)+".split(/\\n/)[$line-1].replace(/^\\s+/,'')};}");try{var z=new Function("$data","$filename",y);return z.prototype=w,z}catch(a){throw a.temp="function anonymous($data,$filename) {"+y+"}",a}}var d=function(){var a={};return{add:function(b,c){a[b]||(a[b]=[]),"[object Function]"===Object.prototype.toString.call(c)&&a[b].push(c)},fire:function(b,c,d){a[b]&&a[b].length&&a[b].forEach(function(a){a.call(d||null,c)})},del:function(b,c){if(a[b])if(c){for(var d=0,e=a[b].length;d<e&&c!==a[b][d];d++);a[b].splice(d,1)}else a[b].length=0}}}(),e=function(a){return"[object Object]"==={}.toString.call(a)},f=Array.isArray||function(a){return"[object Array]"==={}.toString.call(a)},g=function(a){return"[object String]"==={}.toString.call(a)},h=function(a){return"[object Function]"==={}.toString.call(a)},i=function(a,b){var c=[].slice.call((b||document).querySelectorAll(a));return c.length?c:[]},j=function(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])},k=function(a){var b=[];return f(a)&&a.forEach(function(a){b.indexOf(a)<0&&b.push(a)}),b};Element.prototype.trigger=function(a,b,c){var d=document.createEvent("HTMLEvents");if(d.initEvent(a,!0,!0),d.data=b||{},d.eventName=a,d.target=this,c&&c instanceof Event){var e=d.preventDefault,f=d.stopPropagation;d.preventDefault=function(){c.preventDefault(),e.apply(d,arguments)},d.stopPropagation=function(){c.stopPropagation(),f.apply(d,arguments)}}return this.dispatchEvent(d),this};var l=Element.prototype.addEventListener,m=Element.prototype.matches||Element.prototype.matchesSelector||Element.prototype.webkitMatchesSelector;Element.prototype.addEventListener=Element.prototype.on=function(a){var b,c,d=this,e=[].slice.call(arguments),f=String(a).split("."),i=f[1]||"all";if(a=f[0],g(e[1])&&(b=e[1]),c=b&&h(e[2])?e[2]:h(e[1])?e[1]:function(){},d.__custom_event_live__||(d.__custom_event_live__={}),d.__custom_event_live__[i]||(d.__custom_event_live__[i]={}),d.__custom_event_live__[i][a]||(d.__custom_event_live__[i][a]=[]),b){var j=function(a){for(var e=a.target,f=m.call(e,b);!f&&e.parentNode&&e!==d;)e=e.parentNode,f=m.call(e,b);f&&c.call(e,a)};d.__custom_event_live__[i][a].push(j),l.call(d,a,j,!1)}else d.__custom_event_live__[i][a].push(c),l.call(d,a,c,!1);return d},Element.prototype.off=function(a,b){var c=this,d=String(a).split("."),e=d[1]||"all";return a=d[0],h(b)?c.removeEventListener(a,b,!1):c.__custom_event_live__&&c.__custom_event_live__[e]&&c.__custom_event_live__[e][a]&&c.__custom_event_live__[e][a].length&&c.__custom_event_live__[e][a].forEach(function(b){c.removeEventListener(a,b,!1)}),c},Element.prototype.one=function(a,b){var c=this,d=function(e){c.removeEventListener(a,d,!1),b.call(this,e)};return c.addEventListener(a,d,!1),c};var n=function(a,b){return"string"==typeof b?z(b,{filename:a}):q(a,b)};n.version="3.0.0",n.config=function(a,b){o[a]=b};var o=n.defaults={openTag:"<%",closeTag:"%>",escape:!0,cache:!0,compress:!1,parser:null},p=n.cache={};n.render=function(a,b){return z(a,b)};var q=n.renderFile=function(a,b){var c=n.get(a)||y({filename:a,name:"Render Error",message:"Template not found"});return b?c(b):c};n.get=function(a){var b;if(p[a])b=p[a];else if("object"==typeof document){var c=document.getElementById(a);if(c){var d=(c.value||c.innerHTML).replace(/^\s*|\s*$/g,"");b=z(d,{filename:a})}}return b};var r=function(a,b){return"string"!=typeof a&&(b=typeof a,"number"===b?a+="":a="function"===b?r(a.call(a)):""),a},s={"<":"&#60;",">":"&#62;",'"':"&#34;","'":"&#39;","&":"&#38;"},t=function(a){return s[a]},u=function(a){return r(a).replace(/&(?![\w#]+;)|[<>"']/g,t)},v=function(a,b){var c,d;if(f(a))for(c=0,d=a.length;c<d;c++)b.call(a,a[c],c,a);else for(c in a)b.call(a,a[c],c)},w=n.utils={$helpers:{},$include:q,$string:r,$escape:u,$each:v};n.helper=function(a,b){x[a]=b};var x=n.helpers=w.$helpers;n.onerror=function(a){var b="Template Error\n\n";for(var c in a)b+="<"+c+">\n"+a[c]+"\n\n";"object"==typeof console&&console.error(b)};var y=function(a){return n.onerror(a),function(){return"{Template Error}"}},z=n.compile=function(a,b){function d(c){try{return new g(c,f)+""}catch(d){return b.debug?y(d)():(b.debug=!0,z(a,b)(c))}}b=b||{};for(var e in o)void 0===b[e]&&(b[e]=o[e]);var f=b.filename;try{var g=c(a,b)}catch(a){return a.filename=f||"anonymous",a.name="Syntax Error",y(a)}return d.prototype=g.prototype,d.toString=function(){return g.toString()},f&&b.cache&&(p[f]=d),d},A=w.$each,B="break,case,catch,continue,debugger,default,delete,do,else,false,finally,for,function,if,in,instanceof,new,null,return,switch,this,throw,true,try,typeof,var,void,while,with,abstract,boolean,byte,char,class,const,double,enum,export,extends,final,float,goto,implements,import,int,interface,long,native,package,private,protected,public,short,static,super,synchronized,throws,transient,volatile,arguments,let,yield,undefined",C=/\/\*[\w\W]*?\*\/|\/\/[^\n]*\n|\/\/[^\n]*$|"(?:[^"\\]|\\[\w\W])*"|'(?:[^'\\]|\\[\w\W])*'|\s*\.\s*[$\w\.]+/g,D=/[^\w$]+/g,E=new RegExp(["\\b"+B.replace(/,/g,"\\b|\\b")+"\\b"].join("|"),"g"),F=/^\d[^,]*|,\d[^,]*/g,G=/^,+|,+$/g,H=/^$|,+/,I=function(b){var c="",d=a(b);j(d||{},function(a,b){c+="var "+b+" = $VM_data."+b+";"}),c+="return function() { return "+b+";}";try{return new Function("$VM_data",c)}catch(a){console.error(b,a)}},J=function(a){try{return new Function("$VM_data","$VM_value","$VM_data."+a+"=$VM_value")}catch(b){console.error(a,b)}},K=function(a,b,c,d){this.data=a,this.elem=b;var e=[].slice.call(b.querySelectorAll("script")),f="";e.length&&e.forEach(function(a){f+=a.innerHTML}),this.tmpl=f||"",this.tmplRender=this.tmpl&&n.compile(this.tmpl),this.getData=I(d),this.update()};K.prototype.update=function(a){var a,b=this,c=b.data;try{a=b.getData(c)()}catch(a){console.error(b,a)}b.oldValue!==a&&(b.oldValue=a,b.tmpl?b.elem.innerHTML=b.tmplRender(c):b.elem.innerHTML=String(a),b.elem.trigger("vm_update_html",a))};var L=function(a,b,c,d){this.data=a,this.elem=b,this.type=b.type||void 0,this.getData=I(d),this.setData=J(d),this.isFlag=!0,this.init(),this.update()};L.prototype.init=function(){var a,b,c,d=this,e=d.data,g=d.elem,h=d.type,j=g.getAttribute("name"),k="";switch(h){case"file":case"select-one":case"select-multiple":k="change.vm_form";break;case void 0:case"submit":case"reset":case"button":break;case"radio":case"checkbox":k="click.vm_form";break;default:k="input.vm_form"}/^(radio|checkbox)$/.test(h)?j&&"radio"==h?(a=i('input[name="'+j+'"]',g.form),c=function(){var b="";a.forEach(function(a){a.checked&&(b=a.value)}),d.setData(e,b)},g.off(k).on(k,c),d.isFlag=a[0]==g,b=function(b){a.forEach(function(a){var c=a.value==b;a.checked!=c&&(a.checked=c,a.trigger("vm_change"))})}):j&&"checkbox"==h?(a=i('input[name="'+j+'"]',g.form),c=function(){var b=[];a.forEach(function(a){a.checked&&b.push(a.value)}),d.setData(e,b)},g.off(k).on(k,c),d.isFlag=a[0]==g,b=function(b){a.forEach(function(a){var c;c=f(b)?b.indexOf(a.value)>-1:a.value==b,a.checked!=c&&(a.checked=c,a.trigger("vm_change"))})}):(c=function(){var a=g.checked?g.value:"";d.setData(e,a)},g.off(k).on(k,c),b=function(a){var b=a==g.value;g.checked!=b&&(g.checked=b,g.trigger("vm_change"))}):"file"==h?(c=function(){d.setData(e,g.files)},k&&g.off(k).on(k,c),b=function(a){setTimeout(function(){a||(g.value="",g.trigger("vm_change"))},0)}):(c=function(){d.setData(e,g.value)},k&&g.off(k).on(k,c),b=function(a){setTimeout(function(){g.value!=String(a)&&(g.value=String(a),g.trigger("vm_change"))},0)}),window.addEventListener("load",function(){setTimeout(c,500)}),d.update=function(a){var a;if(d.isFlag){try{a=d.getData(e)()}catch(a){console.error(d,a)}("object"==typeof a&&!f(a)||String(d.oldValue)!==String(a))&&(d.oldValue="object"!=typeof a||f(a)?String(a):a,b(a))}}};var M=function(a,b,c,d){this.data=a,this.elem=b,this.prop=c.replace("vm-css-",""),this.getData=I(d),this.update()};M.prototype.update=function(a){var a,b=this,c=b.data;try{a=b.getData(c)()}catch(a){console.error(b,a)}b.oldValue!==a&&(b.oldValue=a,b.elem.style[b.prop]=String(a))};var N=function(a,b,c,d){this.data=a,this.elem=b,this.prop=c.replace("vm-attr-",""),this.getData=I(d),this.update()};N.prototype.update=function(a){var a,b=this,c=b.data;try{a=b.getData(c)()}catch(a){console.error(b,a)}b.oldValue!==a&&(b.oldValue=a,b.prop in b.elem?b.elem[b.prop]=a:b.elem.setAttribute(b.prop,a))};var O=function(a,b,c,d){this.data=a,this.elem=b,this.event=c.replace("vm-on-","")+".vm_event",this.getData=I(d),this.update()};O.prototype.update=function(a){var b,c=this,d=c.data;try{b=c.getData(d)}catch(a){console.error(c,a)}if(c.handler!==b){c.handler=b;try{c.elem.off(c.event).on(c.event,b)}catch(a){console.error(c,a)}}};var P=Object.defineProperty,Q=Object.defineProperties;try{P({},"_",{value:"test"})}catch(a){"__defineGetter__"in{}&&(P=function(a,b,c){"get"in c&&a.__defineGetter__(b,c.get),"set"in c&&a.__defineSetter__(b,c.set)},Q=function(a,b){for(var c in b)P(a,c,b[c]);return a})}var R=function(a,b){this.callback=b;var c=[];return j(a,function(a){c.push(a)}),this.watch(a,c)};R.prototype.rewrite=function(a){var b=this;["concat","every","filter","forEach","indexOf","join","lastIndexOf","map","pop","push","reduce","reduceRight","reverse","shift","slice","some","sort","splice","unshift","toLocaleString","toString","size"].forEach(function(c,d){h(a[c])&&(a[c]=function(){var a=this,d=Array.prototype[c].apply(a,Array.prototype.slice.call(arguments));if(/^concat|pop|push|reverse|shift|sort|splice|unshift|size$/gi.test(c)){var e=[];j(a,function(b){!h(a[b])&&e.push(b)}),b.callback(a.length),b.watch(a,e)}return d})})},R.prototype.watch=function(a,b){var c=this,d={},g={};return f(a)&&c.rewrite(a),b.forEach(function(b){if(g[b]=a[b],d[b]={get:function(){return g[b]},set:function(a){g[b]=a,c.callback(a)}},e(a[b])||f(a[b])){var h=[];j(a[b],function(a){h.push(a)});var i=c.watch(a[b],h);e(a[b])&&(g[b]=a[b]=i)}}),Q(a,d)};var S=function(a,b){this.name=a,this.data=b,this.onObserve=null,this.element=i('[vm-controller="'+a+'"]'),this.controllers=[],this.init()};return S.prototype={constructor:S,addObserveEvent:function(a){d.add("observe",a)},removeObserveEvent:function(a){d.del("observe",a)},accessor:function(a){var b=this;clearTimeout(b.timer),b.timer=setTimeout(function(){b.controllers.forEach(function(b){b.update(a)}),d.fire("observe",null,b)},50)},factory:function(a){var b=this;return new R(a,function(a){b.accessor(a)})},scanNode:function(a){var b=this,c=b.controllers,d=a.innerHTML.match(/\bvm(-(\w+))+/gim);k(d).forEach(function(d){var e=d.match(/^vm-(\w+)/);if(e&&e.length&&e[1])switch(e[1]){case"html":i("["+d+"]",a).forEach(function(a){c.push(new K(b.data,a,d,a.getAttribute(d))),a.removeAttribute(d)});break;case"value":i("["+d+"]",a).forEach(function(a){c.push(new L(b.data,a,d,a.getAttribute(d))),a.removeAttribute(d)});break;case"css":i("["+d+"]",a).forEach(function(a){c.push(new M(b.data,a,d,a.getAttribute(d))),a.removeAttribute(d)});break;case"attr":i("["+d+"]",a).forEach(function(a){c.push(new N(b.data,a,d,a.getAttribute(d))),a.removeAttribute(d)});break;case"on":i("["+d+"]",a).forEach(function(a){c.push(new O(b.data,a,d,a.getAttribute(d))),a.removeAttribute(d)})}})},init:function(){var a=this;a.data=a.factory(a.data);try{a.data.__VM__=a}catch(a){}a.element.forEach(function(b){a.scanNode(b),b.off("vm_update_html").on("vm_update_html",function(b){b.preventDefault(),b.stopPropagation(),a.controllers=a.controllers.filter(function(a){return document.body.contains(a.elem)}),a.scanNode(b.target)}),b.removeAttribute("vm-controller")})}},{template:n,vm:{},define:function(a,b){var c=new S(a,b);return this.vm[a]=c,c.data}}});