define("validate",[],function(){var a={empty:"不能为空！",email:"电子邮箱格式错误！",phone:"手机号码格式错误！",tell:"电话号码格式错误！",number:"请输入数字！",integer:"请输入整数！",url:"请输入正确的网址！",password:"密码格式错误，请输入6到18个字符！",checkval:"两次输入的密码不一致！",error:"格式错误！",register:"该账号已经注册！",verify:"验证码错误！",cn:"请输入中文！",len:"长度不符！",minlen:"长度不够！",maxlen:"长度太长！",regexp:"格式不符！",succeed:"OK！"},b={email:/^(\w)+(\W\w+)*@(\w)+(-\w+)*((\.\w+)+)$/,phone:/^1[3|4|5|7|8][0-9]\d{8,8}$/,tell:/\d{3}-\d{8}|\d{4}-\d{7,8}/,number:/^[\-\+]?((\d+)([\.,](\d+))?|([\.,](\d+))?)$/,integer:/^\d+$/,date:/^\d{4}\W\d{1,2}\W\d{1,2}$/,time:/^\d{1,2}:\d{1,2}$/,cn:/^[^u4e00-u9fa5\w~!@#$%^&*()_+{}:"<>?\-=[\];\',.\/]+$/gi,plus:/^[\+]?((\d+)([\.,](\d+))?|([\.,](\d+))?)$/,url:/^[a-zA-z]+:\/\/(\w+(-\w+)*)(\.(\w+(-\w+)*))*/,password:/^[\w~!@#$%^&*()_+{}:"<>?\-=[\];\',.\/]{6,18}$/},c={empty:function(a){return!!a.v_get_val()},checkval:function(a,b){var c=a.v_get_val(),d=a.form.querySelector(b);return!d||c===d.value},len:function(a,b){return a.v_get_val().length===(Number(b)||1)},minlen:function(a,b){return a.v_get_val().length>=(Number(b)||0)},maxlen:function(a,b){return a.v_get_val().length<=(Number(b)||18)},regexp:function(a,b){var c=new RegExp(b,"g");return c.test(a.v_get_val())}};["email","phone","tell","number","integer","date","time","cn","plus","url","password"].forEach(function(a){c[a]=function(c){return!c.v_get_val()||b[a]&&b[a].test(c.v_get_val())}});var d=function(a){var b,d="succeed";return b=a.v_rules.every(function(b){var e;return Array.isArray(b)&&b.length?(e=b.some(function(b){return!c[b.rule]||c[b.rule](a,b.param)}),d=e?"succeed":b[0].rule):(e=!c[b.rule]||c[b.rule](a,b.param),d=e?"succeed":b.rule),e}),a.v_is_checked=b,{isChecked:b,errorRule:d}},e=function(a){var b=/^(\w+)\((.*)\)$/g.exec(a);return b&&3===b.length?{rule:b[1],param:b[2]}:{rule:a,param:null}},f=function(a){var b=a.split(",").filter(function(a){return!!a}),c=b.map(function(a){var b=a.split("|").filter(function(a){return!!a});return 1==b.length?b[0]:b});return c.map(function(a){return Array.isArray(a)?a.map(function(a){return e(a)}):e(a)})},g=["submit","reset","button","hidden",void 0],h=function(a){var b=[].slice.call(a).filter(function(a){return g.indexOf(a.type)<0&&!a.disabled&&!!a.getAttribute("data-validate")});return b.forEach(function(a){a.v_get_val=function(){var b=a.type;if(/radio|checkbox/gi.test(b)){var c,d=a.name;return d?(c=[].slice.call(a.form[d]),function(){return c.some(function(a){return a.checked})}):function(){return this.checked}}return function(){return this.value}}(),a.v_rules=f(a.getAttribute("data-validate"))}),b},i=function(b){var c=this,e=h(c.elements);return c.validateElements=e,e.every(function(e){var f=d(e);return b&&c.validateTip(e,f.errorRule,a[f.errorRule]),f.isChecked})},j=function(b){var c=this;b="string"==typeof b?b:"change";var e=h(c.elements);return c.validateElements=e,e.forEach(function(e){e.addEventListener(b,function(){var b=d(e);c.validateTip(e,b.errorRule,a[b.errorRule])},!1)}),c},k=function(a,b,c){if(!a.v_tip_node){if(/radio|checkbox/gi.test(a.type)&&a.name){var d=a.form[a.name],e=d[d.length-1];e.v_tip_node?a.v_tip_node=e.v_tip_node:(a.v_tip_node=e.v_tip_node=document.createElement("span"),e.parentNode.appendChild(a.v_tip_node))}else a.v_tip_node=document.createElement("span"),a.parentNode.appendChild(a.v_tip_node);a.v_tip_node.className="error-msg"}"succeed"==b?(a.v_tip_node.classList.add("hide"),a.parentNode.classList.remove("error")):(a.v_tip_node.classList.remove("hide"),a.parentNode.classList.add("error"),a.v_tip_node.innerHTML=c,a.focus())};return HTMLFormElement.prototype.validateTip=k,HTMLFormElement.prototype.isCheck=i,HTMLFormElement.prototype.bindCheck=j,{isCheck:function(a,b){i.call(a,b),!a.validateTip&&(a.validateTip=k)},bindCheck:function(a,b){j.call(a,b),!a.validateTip&&(a.validateTip=k)}}});